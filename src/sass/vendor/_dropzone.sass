/*
 * The MIT License
 * Copyright (c) 2012 Matias Meno <m@tias.me>


.dropzone
  box-sizing: border-box
  background: white
  padding: 10px 10px
  position: relative
  // display: flex
  // align-items: flex-start
  // align-items: center
  min-height: 360px
  flex-wrap: wrap
  border-radius: 4px
  *
    box-sizing: border-box
  &::after
    display: inline-block
    content: ' '
    position: absolute 0
    pointer-events: none
    border: 3px solid $colorPrimary
    border-radius: 4px
    opacity: 0
    transition: .25s $ease
  &.dz-clickable
    cursor: pointer
    *
      cursor: default
    .dz-message
      cursor: pointer
      *
        cursor: pointer
  &.dz-started
    .dz-message
      display: none
    .dz-add
      display: inline-flex
  &.dz-drag-hover
    &:after
      opacity: 1

  .dz-message
    position: absolute
    top: 50%
    transform: translateY(-50%)
    margin: 0
    font-size: 14px
    line-height: 2
    color: $fontColor50
    align-self: center
    width: 100%
    text-align: center
    span
      color: rgba(#359BE0, .5)
      border-bottom: 1px solid #359BE0
      transition: .25s $ease
      &:hover
        color: #359BE0
  .dz-preview
    flex: 0 0 auto
    position: relative
    display: inline-flex
    vertical-align: top
    margin: 16px
    height: 65px
    margin: 7px
    ccursor: move
    cursor: grab
    &--with-input
      margin-bottom: 45px
    &:hover
      z-index: 1000
      .dz-details
        opacity: 1
      .dz-image
        &::after
          opacity: 1
        &::before
          opacity: 1
          transform: translate(-50%,-50%)
      .dz-remove
        opacity: 1
    &.dz-file-preview
      .dz-image
        border-radius: 20px
        background: #999
        background: linear-gradient(to bottom, #eee, #ddd)
      .dz-details
        opacity: 1
    &.dz-image-preview
      background: white
      .dz-details
        transition: opacity 0.2s linear
    .dz-remove
      position: absolute
      z-index: 2
      right: 0px
      top: 0px
      size: 18px
      padding: 5px
      text-align: center
      display: block
      cursor: pointer
      border: none
      font-size: 0
      opacity: 0
      transition: .25s $ease
      &::after
        display: inline-block
        content: ' '
        +sprite(dz-remove)
        transition: .25s $ease
      &:hover
        &::after
          transform: scale(1.25)
    &:hover .dz-details
      opacity: 1
    .dz-details
      display: none
      // z-index: 20
      // position: absolute
      // top: 0
      // left: 0
      // opacity: 0
      // font-size: 13px
      // min-width: 100%
      // max-width: 100%
      // padding: 2em 1em
      // text-align: center
      // color: rgba(0, 0, 0, 0.9)
      // line-height: 150%
      // .dz-size
      //   margin-bottom: 1em
      //   font-size: 16px
      // .dz-filename
      //   white-space: nowrap
      //   &:hover span
      //     border: 1px solid rgba(200, 200, 200, 0.8)
      //     background-color: rgba(255, 255, 255, 0.8)
      //   &:not(:hover)
      //     overflow: hidden
      //     text-overflow: ellipsis
      //     span
      //       border: 1px solid transparent
      //   span
      //     background-color: rgba(255, 255, 255, 0.4)
      //     padding: 0 0.4em
      //     border-radius: 3px
      // .dz-size span
      //   background-color: rgba(255, 255, 255, 0.4)
      //   padding: 0 0.4em
      //   border-radius: 3px

    .dz-image
      border-radius: 4px
      overflow: hidden
      width: 100px
      height: 65px
      // height: 120px
      position: relative
      display: block
      z-index: 10
      z-index: 1
      img
        display: block
        position: absolute
        min-width: 100%
        min-height: 100%
        width: auto
        height: auto
        left: 50%
        top: 50%
        transform: translate(-50%, -50%)
        &:hover
          // transform: translate(-50%, -50%) scale(1.2)
      &::after
        display: inline-block
        content: ''
        position: absolute 0
        pointer-events: none
        opacity: 0
        background: rgba(0,0,0,0.5)
        transition: .25s $ease
      &::before
        display: inline-block
        content: ''
        z-index: 2
        pointer-events: none
        position: absolute
        top: 50%
        left: 50%
        +sprite(dz-zoom)
        opacity: 0
        transform: translate(-50%,20%)
        transition: .25s $ease

    &.dz-success .dz-success-mark
      // animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1)
    &.dz-error
      .dz-image
        img
          pointer-events: none
        &::before
          display: none
      .dz-error-mark
        opacity: 1
      // animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1)
    .dz-success-mark, .dz-error-mark
      pointer-events: none
      opacity: 0
      z-index: 500
      position: absolute
      display: block
      top: 50%
      left: 50%
      width: 24px
      height: 24px
      // display: none
      transform: translate(-50%,-50%)
    .dz-success-mark svg, .dz-error-mark svg
      display: block
      width: 24px
      height: 24px
    .dz-error-mark
      left: 50%
      top: 50%
      transform: translate(-50%,-50%)
      margin: 0
    &.dz-processing .dz-progress
      opacity: 1
      transition: all 0.2s linear
    &.dz-complete .dz-progress
      opacity: 0
      transition: opacity 0.4s ease-in
    &:not(.dz-processing) .dz-progress
      animation: pulse 6s ease infinite
    .dz-progress
      opacity: 1
      z-index: 1000
      pointer-events: none
      position: absolute
      height: 14px
      left: 50%
      top: 50%
      margin-top: -7px
      width: 70px
      margin-left: -35px
      background: rgba(255, 255, 255, 0.9)
      border-radius: 8px
      overflow: hidden
      .dz-upload
        background: $colorPrimary
        // background: linear-gradient(to bottom, #666, #444)
        position: absolute
        top: 0
        left: 0
        bottom: 0
        width: 0
        transition: width 300ms ease-in-out
    &.dz-error
      .dz-error-message
        display: block
      &:hover .dz-error-message
        opacity: 1
        pointer-events: auto
    .dz-error-message
      pointer-events: none
      z-index: 1000
      position: absolute
      display: block
      display: none
      opacity: 0
      transition: opacity 0.3s ease
      border-radius: 8px
      font-size: 12px
      top: 100%
      left: -10px
      width: 120px
      background: $colorRed
      // background: linear-gradient(to bottom, #be2626, #a92222)
      padding: 0.5em 1.2em
      line-height: 1.2
      text-align: center
      color: white
      &:after
        content: ''
        position: absolute
        top: -6px
        left: 54px
        width: 0
        height: 0
        border-left: 6px solid transparent
        border-right: 6px solid transparent
        border-bottom: 6px solid $colorRed

    .dz-input
      position: absolute
      bottom: -30px
      left: 0
      right: 0
      input
        padding: 5px
        text-align: center
        font-size: 10px

  .dz-add
    flex: 0 0 auto
    border-radius: 4px
    overflow: hidden
    width: 100px
    height: 65px
    border: 1px solid #D8D8D8
    display: none
    align-items: center
    color: #D8D8D8
    justify-content: center
    margin: 7px
    // pointer-events: none
    cursor: pointer
    transition: .25s $ease
    .ico
      font-size: 13px
    &:hover, &.is-hovered
      color: $colorPrimary
      border-color: $colorPrimary

.sortable-ghost
  opacity: .5
.sortable-chosen
  .dz-image
    &::before, &::after
      display: none
.sortable-drag
  opacity: 1
  .dz-image
    &::before, &::after
      display: none

@-webkit-keyframes passing-through
  0%
    opacity: 0
    transform: translateY(40px)

  30%,
    70%
    opacity: 1
    transform: translateY(0px)

  100%
    opacity: 0
    transform: translateY(-40px)


@-moz-keyframes passing-through
  0%
    opacity: 0
    transform: translateY(40px)

  30%,
    70%
    opacity: 1
    transform: translateY(0px)

  100%
    opacity: 0
    transform: translateY(-40px)


@keyframes passing-through
  0%
    opacity: 0
    transform: translateY(40px)

  30%,
    70%
    opacity: 1
    transform: translateY(0px)

  100%
    opacity: 0
    transform: translateY(-40px)


@-webkit-keyframes slide-in
  0%
    opacity: 0
    transform: translateY(40px)

  30%
    opacity: 1
    transform: translateY(0px)


@-moz-keyframes slide-in
  0%
    opacity: 0
    transform: translateY(40px)

  30%
    opacity: 1
    transform: translateY(0px)


@keyframes slide-in
  0%
    opacity: 0
    transform: translateY(40px)

  30%
    opacity: 1
    transform: translateY(0px)


@-webkit-keyframes pulse
  0%
    transform: scale(1)

  10%
    transform: scale(1.1)

  20%
    transform: scale(1)


@-moz-keyframes pulse
  0%
    transform: scale(1)

  10%
    transform: scale(1.1)

  20%
    transform: scale(1)


@keyframes pulse
  0%
    transform: scale(1)

  10%
    transform: scale(1.1)

  20%
    transform: scale(1)
